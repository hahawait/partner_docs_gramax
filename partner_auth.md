---
order: 2
title: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (auth)
---

## –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

**POST /auth/registration**

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –¥–∞–Ω–Ω—ã–µ.

### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
```json
{
  "title": "string",
  "account_id": 123
}
```

**–ü–æ–ª—è:**
- `title` *(string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)* ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- `account_id` *(int, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)* ‚Äî ID —Å–æ–∑–¥–∞—Ç–µ–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞


### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî 201 OK
```json
{
  "id": "uuid",
  "client_secret": "string",
  "title": "string",
  "account_id": 123
}
```

### ‚ö†Ô∏è –û—à–∏–±–∫–∞ ‚Äî 422 Validation Error
```json
{
  "detail": [
    {
      "loc": ["query", "date_gte"],
      "msg": "field required",
      "type": "value_error.missing"
    }
  ]
}
```

---

## –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–≥–æ —Ç–æ–∫–µ–Ω–∞

**POST /auth/token**

### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
```json
{
  "id": "uuid",
  "client_secret": "uuid"
}
```

**–ü–æ–ª—è:**
- `id` *(UUID, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)* ‚Äî ID –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- `client_secret` *(UUID, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)* ‚Äî Secret –ø–∞—Ä—Ç–Ω–µ—Ä–∞


### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî 200 OK

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç *access* —Ç–æ–∫–µ–Ω, —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ - 1 –º–µ—Å—è—Ü.

```json
{
  "access_token": "string"
}
```
### –û—à–∏–±–∫–∏  

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|-----------|--------|
| 404 | –ü–∞—Ä—Ç–Ω—ë—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω | `{"detail": "Partner with id=123 not found"}` |
| 409 | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–ª—é—á –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ | `{"detail": "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–ª—é—á –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"}` |
| 422 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | `{"detail": [{"loc": ["body", "field"], "msg": "field required", "type": "value_error.missing"}]}` |

---

## –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

**GET /auth/auth-link**  

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è  
–¢—Ä–µ–±—É–µ—Ç—Å—è Bearer —Ç–æ–∫–µ–Ω.  

### üß© –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- `external_id`: integer (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî 200 OK
–í–æ–≤–∑—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É.

### ‚ö†Ô∏è –û—à–∏–±–∫–∞ ‚Äî 422 Validation Error
```json
{
  "detail": [
    {
      "loc": ["query", "date_gte"],
      "msg": "field required",
      "type": "value_error.missing"
    }
  ]
}
```

---

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–∞

**POST /auth/connect**  

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è  
–¢—Ä–µ–±—É–µ—Ç—Å—è Bearer —Ç–æ–∫–µ–Ω.  

### üß© –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- `external_id`: integer (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)  
- `account_id`: integer (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî 201 OK
```json
{
  "message": "string"
}
```

### –û—à–∏–±–∫–∏

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|-----------|--------|
| 400 | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | `{"detail": "Partner title incorrect or does not exist"}` |
| 404 | –ü–∞—Ä—Ç–Ω—ë—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω | `{"detail": "Partner with id=123 not found"}` |
| 409 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω | `{"detail": "Account already exists"}` |
| 422 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | `{"detail": [{"loc": ["body", "field"], "msg": "field required", "type": "value_error.missing"}]}` |

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

**GET /auth/check-partner**  

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è  
–¢—Ä–µ–±—É–µ—Ç—Å—è Bearer —Ç–æ–∫–µ–Ω.  

### üß© –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- `external_id`: integer (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî 200 OK
```json
{
  "is_integration_exist": true
}
```

### –û—à–∏–±–∫–∏

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|-----------|--------|
| 400 | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | `{"detail": "Partner title incorrect or does not exist"}` |
| 404 | –ü–∞—Ä—Ç–Ω—ë—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω | `{"detail": "Partner with id=123 not found"}` |
| 422 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | `{"detail": [{"loc": ["body", "field"], "msg": "field required", "type": "value_error.missing"}]}` |

[openapi:./partner_auth.yaml:false]